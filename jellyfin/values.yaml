image:
  repository: ghcr.io/onedr0p/jellyfin
  tag: 10.8.10

controller:
  type: statefulset
  strategy: RollingUpdate

ingress:
  main:
    enabled: true
    ingressClassName: traefik
    hosts:
      - host: jfn.rkth.io
        paths:
          - path: /
            pathType: Prefix

    tls:
      - secretName: jellyfin-tls

service:
  main:
    ports:
      http:
        protocol: TCP
        port: 8096
        targetPort: 8096

env:
  TZ: America/Los_Angeles

persistence:
  config:
    enabled: true
    type: nfs
    server: 207.246.100.141
    path: /mnt/blockstorage/skidobo/media-stack/configs/jellyfin
    retain: true
    mountPath: /config
  media:
    enabled: true
    type: nfs
    server: 207.246.100.141
    path: /mnt/blockstorage/skidobo/media-stack/media
    mountPath: /data/media
    retain: true
  transcode:
    enabled: true
    type: emptyDir
    medium: Memory

podSecurityContext:
  runAsUser: 568
  fsGroup: 568
  runAsGroup: 568
  fsGroupChangePolicy: "OnRootMismatch"
  supplementalGroups:
    - 100
